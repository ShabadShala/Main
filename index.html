<!-- <!DOCTYPE html> -->
<html lang="pa">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="refresh" content="600">
		
		<title>Singh-Kaur</title>
		
		<style>
			body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
			margin: 0; /* Avoid margins */	
			}
			
			h1 {
            font-size: 1.7em;
            color: #000;
			text-align: center;
			}
			
			.center-container {
			display: flex;
			justify-content: center; /* Center horizontally */
			text-align: center;      /* Ensures the text inside h1 is centered */
			}
			
			.line {
            width: 200px;
            height: 2px;
            background-color: black;
            margin: 10px auto;
			display: block;
			}
			
			.linecontainer {
			width: 100%;                /* Ensure container is full width */
			display: flex;              /* Use Flexbox for centering */
			justify-content: center;    /* Horizontally center the content */
			align-items: center;        /* Vertically center if needed */
			}
			
			a {
            text-decoration: none;
            font-size: 1.5em;
            color: blue;
			
			}
			
			.search-container {
            display: flex;
			justify-content: center;
            align-items: center;
            margin-top: 15px;
			margin-bottom: 25px !important;
			}
			
			.input-wrapper {
            position: relative;
            display: inline-block;			
			max-width: 100%;
			}
			
			input[type="text"] {
            font-size: 1.2em;
            padding: 10px;
            width: 150px;
            box-sizing: border-box;
            padding-right: 30px; /* Space for the clear button */
			}
			
			.clear-btn {
            display: none;
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background-color: transparent;
            border: none;
            font-size: 1.5em;
            color: black;
            cursor: pointer;
			}
			
			.clear-btn:hover {
            color: red;
            transform: translateY(-50%) scale(1.1);
            transition: all 0.2s;
			}
			
			.search-btn {
            font-size: 1.2em;
            padding: 10px 10px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            height: 40px; /* Align with input height */
            margin-left: 10px;
			max-width: 100%; 
			}
			
			.search-btn:hover {
            background-color: #0056b3;
			}
			
			.output-text {
            font-size: 1.5em;
            color: #000;
            margin-top: 20px;
            text-align: center;
			}
			
			.message {
            font-size: 1.2em;
            color: #ff0000; /* Default red */
            margin-top: 10px;
			white-space: nowrap; /* Prevent text from wrapping onto multiple lines */
			text-align: center;
			}
			
			.message.found {
            color: #007b00; /* Green for found */
			}
			
			
			/* Common Button Style */
			.button {
			position: absolute;
			top: 10px;
			background-color: #4CAF50;
			color: white;
			border: none;
			font-size: 16px;
			cursor: pointer;
			border-radius: 5px;
			}
			
			#aboutButton {
			padding: 5px 7px; /* Default padding */
			left: 10px;
			}
			
			#helpButton {
			padding: 5px 10px; /* Default padding */
			right: 10px;
			}
			
			/* Styles for Overlay */
			#helppopupOverlay, #aboutpopupOverlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.5);
			z-index: 9999;
			}
			
			/* Style for the Popup content */
			#helppopupOverlay > div, #aboutpopupOverlay > div {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: white;
			padding: 20px;
			border-radius: 10px;
			width: 80%;
			max-width: 300px;
			text-align: Center;
			}
			
			.popup-container {
			margin: 0 auto;
			padding: 10px; /* Add padding to make content look centered */
			max-width: 400px; /* Limit popup width */
			background-color: #fff; /* Ensure it's visible */
			border-radius: 8px; /* Optional: add rounded corners */
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional: shadow for a modern look */			
			max-height: 80vh; 
			overflow-y: auto;
			}			
			
			#helpclosePopup, #aboutclosePopup {
			display: block; /* Ensure it's displayed as a block element */
			color: black; /* Black color for the cross */
			border: none; /* Remove borders */
			cursor: pointer; /* Make it clickable */
			font-size: 24px; /* Larger font size for visibility */
			margin: 0; /* Remove default margin */
			padding: 0; /* Remove any padding */			
			/* Make the background transparent */
			background: transparent; /* Ensure the background is transparent */
			box-shadow: none; /* Remove any shadow that might appear around the button */
			/* Positioning the button in the upper-right corner */
			position: absolute; /* Position it relative to its parent */
			top: 10px; /* 10px from the top */
			right: 10px; /* 10px from the right */
			width: 24px; /* Same as font-size to make it square */
			height: 24px; /* Same as font-size to make it square */
			text-align: center; /* Center the cross horizontally */
			line-height: 24px; /* Align the cross vertically */
			}
			
			#helpclosePopup::before, #aboutclosePopup::before {
			content: '√ó'; /* Use the multiplication sign for a cross */
			font-size: inherit; /* Inherit font size from the parent */
			}
			
			.popup-heading {
			font-size: 20px; /* Adjust size */
			font-weight: bold;			
			}
			
			.instructions-list {
			padding-left: 0; /* Remove padding to align content with the left */
			text-align: justify; /* Justify the text */
			list-style-type: none; /* Remove the bullets */
			margin-bottom: 5px;
			}
			
			.instructions-list li {
			position: relative; /* Explicitly define block context */
			line-height: 1.4; /* Adjust line spacing */			
			text-indent: 30px; /* Indent only the first line */
			}
			
			.instructions-list2 {
			padding-left: 10px; /* Adjust the left padding for bullets */
			text-align: left;
			list-style-type: disc; /* Ensure bullets appear */
			margin-bottom: 5px;
			}
			
			.instructions-list2 li {
			margin-bottom: 5px; /* Add space between list items */
			line-height: 1.4;
			}
						
			#addDialog {
			display: none;
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: white;
			padding: 20px;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			text-align: center;
			z-index: 1000;
			width: 75%; /* Set width to 50% of the container */
			max-width: 400px; /* Set a maximum width of 400px */
			}
			
			#addDialog button {
            margin: 10px;
            font-size: 1em;
            cursor: pointer;
			}
			
			#addDialog .add-btn {
            background-color: #4CAF50;
            color: white;
            padding: 7px 13px;
            border: none;
			border-radius: 5px;
			}
			
			#addDialog .cancel-btn {
            background-color: #f44336;
            color: white;
			padding: 7px 15px;
            border: none;
			border-radius: 5px;
			}
			
			#overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
			}
			
			.loading {
			display: none;
			margin: 20px auto;
			border: 4px solid #f3f3f3;
			border-top: 4px solid #006400;
			border-radius: 50%;
			width: 40px;
			height: 40px;
			animation: spin 1s linear infinite;
			}
			
			@keyframes spin {
			0% {
			transform: rotate(0deg);
			}
			100% {
			transform: rotate(360deg);
			}
			}
			
			.no-hover {
			pointer-events: none !important; /* Disables all interactions, including hover */
			opacity: 0.5; /* Optional: dim the button to show it's disabled */
			}
			
			#baby-animation {
			position: relative; /* Position relative to its parent container */
			left: 50%; /* Adjust as needed */
			font-size: 50px;
			z-index: 1000;
			transform: none; /* No translation, place as per normal flow */
			margin-top: 40px;			
			white-space: nowrap; /* Prevent text from wrapping onto multiple lines */
			text-align: center;
			}
			
			/* Animation styles */
			@keyframes bounce {
            0%, 100% {
			transform: translate(-50%, 0);
            }
            50% {
			transform: translate(-50%, -20px);
            }
			}
			
			.animation {
            animation: bounce 1s infinite;
			}
			
			/* Hidden state */
			.hidden {
            display: none;
			}
			
		    .flip-horizontal {
            display: inline-block;
            transform: scaleX(-1); /* Flips horizontally */
			}
			
			input[type="text"]::placeholder {
			font-size: 17px; 
			opacity: 0.6;   /* Slightly transparent */
			}
			
			.count-container {
			white-space: nowrap;
			}
			
			h2 {
			display: inline;
			font-size: 24px;
			margin: 0;
			}
			
			#result {
			display: inline;
			font-size: 24px;
			font-weight: bold;
			margin: 0;
			}
			
			.blink {
			animation: blink-animation 1s infinite;
			}
			
			@keyframes blink-animation {
			0%, 100% {
			opacity: 1; /* Fully visible at the start and end */
			}
			50% {
			opacity: 0; /* Invisible at the midpoint */
			}
			}		  
		</style>
		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				const input = document.querySelector('input[type="text"]');
				// Add event listener to validate Gurmukhi characters
				input.addEventListener('input', function() {
					const gurmukhiRegex = /^[\u0A00-\u0A7F]*$/; // Gurmukhi Unicode range
					if (!gurmukhiRegex.test(input.value)) {
						input.value = input.value.replace(/[^\u0A00-\u0A7F]/g, ''); // Remove non-Gurmukhi characters
					}
				});
			});     
			
			// Function to activate animation
			function activateAnimation() {
				const babyAnimation = document.getElementById('baby-animation');
				babyAnimation.classList.remove('hidden');
				babyAnimation.classList.add('animation');
			}
			
			// Function to deactivate animation
			function deactivateAnimation() {
				const babyAnimation = document.getElementById('baby-animation');
				babyAnimation.classList.remove('animation');
				babyAnimation.classList.add('hidden');
			}
			
			// Trigger animation based on scroll position
			window.addEventListener('scroll', () => {
				const scrollY = window.scrollY;
				// Activate animation at 300px scroll, deactivate after 600px
				if (scrollY > 300 && scrollY < 600) {
					activateAnimation();
					} else {
					deactivateAnimation();
				}
			});
			
			document.addEventListener("DOMContentLoaded", function() {
				const input = document.querySelector('input[type="text"]');
				const searchBtn = document.querySelector('.search-btn');
				
				// Disable the search button on page load if the input is empty
				if (input.value.trim() === '') {
					searchBtn.disabled = true;
					searchBtn.classList.add('no-hover');  // Add no-hover if button is disabled
				}
				
				// Add an event listener to monitor changes in the input field
				input.addEventListener('input', function() {
					if (input.value.trim() === '') {
						searchBtn.disabled = true;
						searchBtn.classList.add('no-hover');  // Add no-hover if button is disabled
						} else {
						searchBtn.disabled = false;
						searchBtn.classList.remove('no-hover');  // Remove no-hover if button is enabled
					}
				});
			});
			
			// Disable input field while search is in progress
			function disableInput(disableAll = true) {
				const input = document.querySelector('input[type="text"]');
				const clearBtn = input.nextElementSibling; // Cross button
				const searchBtn = document.querySelector('.search-btn');
				
				if (disableAll) {
					input.disabled = true;  // Disable the text box
					clearBtn.style.display = 'none';  // Hide the clear button
				}				
				searchBtn.disabled = true;  // Disable the search button
				searchBtn.classList.add('no-hover');  // Disable the hover effect
			}
			
			// Enable input field after search completes
			function enableInput(enableAll = true) {
				const input = document.querySelector('input[type="text"]');
				const clearBtn = input.nextElementSibling; // Cross button
				const searchBtn = document.querySelector('.search-btn');
				
				if (enableAll) {
					input.disabled = false;  // Enable the text box
					clearBtn.style.display = 'inline-block';  // Show the clear button
				}				
				searchBtn.disabled = false;  // Enable the search button
				searchBtn.classList.remove('no-hover');  // Enable the hover effect
			}
			
			// Main search function
			async function searchName() {
				const input = document.querySelector('input[type="text"]');
				let name = input.value.trim(); // Use 'let' so we can modify the variable
				const outputDiv = document.getElementById('output');
				const messageDiv = document.getElementById('message');
				const loadingSpinner = document.getElementById('loading'); // Assuming the spinner has this ID

    // Check for forbidden endings
	const exceptions = ['‡®ï‡©å‡®∞', '‡®¨‡®≤‡®ï‡©å‡®∞', '‡®ö‡®Æ‡®ï‡©å‡®∞'];
    if (name.endsWith('‡®∏‡®ø‡©∞‡®ò')) {
        messageDiv.textContent = '‚ö†Ô∏è ‡®∏‡®ø‡©∞‡®ò ‡®§‡©ã‡®Ç ‡®¨‡®ø‡®®‡®æ‡®Ç ‡®≤‡®ø‡®ñ‡©ã';
        messageDiv.style.color = 'red';
        return; // Stop execution if invalid input
    }
	if (name.endsWith('‡®ï‡©å‡®∞') && !exceptions.includes(name)) {
        messageDiv.textContent = '‚ö†Ô∏è ‡®ï‡©å‡®∞ ‡®§‡©ã‡®Ç ‡®¨‡®ø‡®®‡®æ‡®Ç ‡®≤‡®ø‡®ñ‡©ã';
        messageDiv.style.color = 'red';
        return; // Stop execution if invalid input
    }	
				
				// Replace characters for better data storage
				const replacements = { 
					'‡®∏‡®º': '‡®∂',
					'‡®ñ‡®º': '‡©ô', 	
					'‡®ó‡®º': '‡©ö', 
					'‡®ú‡®º': '‡©õ', 
					'‡®´‡®º': '‡©û', 
					'‡®≤‡®º': '‡®≥', 		
				};
				
				for (const [key, replacement] of Object.entries(replacements)) {
					const regex = new RegExp(key, 'g'); // 'g' for global replacement
					name = name.replace(regex, replacement);
				}

// Check for input length after replacements
if (name.length === 1 || name.length > 15) {
    messageDiv.textContent = '‚ö†Ô∏è ‡®®‡®æ‡®Æ ‡®†‡©Ä‡®ï ‡®®‡®π‡©Ä‡®Ç';
    messageDiv.style.color = 'red';
    return; // Stop execution if the name is only one character
}	
				
				// Check if the input is empty, disable accordingly
				if (!name) {
					disableInput(false); // Disable only the search and hover button
					return; // Stop execution if input is empty
					} else {
					enableInput(false); // Enable the search and hover button if input exists
				}
				
				// Now, proceed with the search, disable all inputs
				disableInput();  
				messageDiv.textContent = 'Please wait';
				messageDiv.classList.remove('found');
				loadingSpinner.style.display = "block";
				
				try {
					const response = await fetch(`https://script.google.com/macros/s/AKfycbwnpi-hedcyyroMJ6MoD0WId37gYKM0NSx1N1mWqUwwkbpq-iSDyccEerS_EertREw/exec?action=searchName&name=${encodeURIComponent(name)}`);
					const result = await response.json();
					loadingSpinner.style.display = "none"; // Hide loading spinner
					
					// Enable input after search completes
					enableInput();
					
					// Handle the result based on the search status
					if (result.status === 'found') {
						messageDiv.textContent = '‚úÖ ‡®®‡®æ‡®Æ ‡®Æ‡©å‡®ú‡©Ç‡®¶ ‡®π‡©à';
						disableInput(false);
						messageDiv.style.fontSize = '22px';
						
						activateAnimation();
						messageDiv.classList.add('found');
						} else if (result.status === 'not_found') {
						showAddDialog(name);
						} else {
						messageDiv.textContent = `‚ö†Ô∏è ‡®ó‡©ú‡®¨‡©ú (${result.error || '‡®Ö‡®£‡®ú‡®æ‡®£ ‡®ó‡®≤‡®§‡©Ä'})`;
					}
					} catch (error) {
					enableInput(); // Ensure input is enabled even if an error occurs
					loadingSpinner.style.display = "none"; // Hide the loading spinner in case of error
					messageDiv.textContent = `‡®ó‡©ú‡®¨‡©ú (${error.message})`;
					console.error('Error:', error);
				}
			}
			
			
			function generateBeep() {
				const audioContext = new (window.AudioContext || window.webkitAudioContext)();
				const oscillator = audioContext.createOscillator(); // Create an oscillator node
				const gainNode = audioContext.createGain(); // Create a gain node for volume control
				
				oscillator.type = 'sine'; // Set waveform type: 'sine', 'square', 'sawtooth', 'triangle'
				oscillator.frequency.setValueAtTime(3000, audioContext.currentTime); // Frequency in Hz (e.g., 440Hz for "A" note)
				gainNode.gain.setValueAtTime(0.1, audioContext.currentTime); // Volume control (0.1 = 10% volume)
				
				oscillator.connect(gainNode); // Connect oscillator to gain node
				gainNode.connect(audioContext.destination); // Connect gain node to audio output (speakers)
				
				oscillator.start(); // Start the sound
				setTimeout(() => {
					oscillator.stop(); // Stop the sound after 300ms
					audioContext.close(); // Close the audio context
				}, 300); // Duration of beep in milliseconds
			}
			
			function showAddDialog(name) {
				const addDialog = document.getElementById('addDialog');
				const overlay = document.getElementById('overlay');
				
				addDialog.querySelector('.add-btn').onclick = async function () {
					disableInput();
					helpclosePopup();
					enableAnimation();
					await addNameToSheet(name);
					generateBeep();
					showMessage('‚úÖ ‡®®‡®æ‡®Æ ‡®∂‡®æ‡®Æ‡®≤ ‡®ï‡©Ä‡®§‡®æ');			
					enableInput();
				};
				
				addDialog.querySelector('.cancel-btn').onclick = function () {
					// Clear the "Please wait" message
					const statusMessageElement = document.getElementById("statusMessage");
					if (statusMessageElement) {
						statusMessageElement.innerHTML = ""; // Ensure the message is cleared
					}
					// Close the popup
					helpclosePopup();
					showMessage('');
				};
				
				addDialog.style.display = 'block';
				overlay.style.display = 'block';
			}
			
			function helpclosePopup() {
				const addDialog = document.getElementById('addDialog');
				const overlay = document.getElementById('overlay');
				
				addDialog.style.display = 'none';
				overlay.style.display = 'none';
			}
			
			function aboutclosePopup() {
				const addDialog = document.getElementById('addDialog');
				const overlay = document.getElementById('overlay');
				
				addDialog.style.display = 'none';
				overlay.style.display = 'none';
				
				document.body.classList.remove('modal-open');
			}
			
			function enableAnimation() {
				const loadingSpinner = document.getElementById('loading');
				loadingSpinner.style.display = 'block';
			}
			
			function showMessage(message) {
				const messageDiv = document.getElementById('message');
				const loadingSpinner = document.getElementById('loading');
				
				loadingSpinner.style.display = 'none';
				messageDiv.textContent = message;
				messageDiv.classList.add('found');
			}
			
			async function addNameToSheet(name) {
				const messageDiv = document.getElementById('message');
				messageDiv.textContent = 'Adding';
				
				try {
					const response = await fetch(`https://script.google.com/macros/s/AKfycbwnpi-hedcyyroMJ6MoD0WId37gYKM0NSx1N1mWqUwwkbpq-iSDyccEerS_EertREw/exec?action=addNameToSheet&name=${encodeURIComponent(name)}`);
					const result = await response.json();
					
					if (result.status === 'added') {
						fetchRecordCount();											
						activateAnimation()
						messageDiv.textContent = '‡®®‡®æ‡®Æ ‡®∂‡®æ‡®Æ‡®≤ ‡®ï‡©Ä‡®§‡®æ';
						} else {
						messageDiv.textContent = `‚ö†Ô∏è ‡®ó‡©ú‡®¨‡©ú (${result.error || '‡®Ö‡®£‡®ú‡®æ‡®£ ‡®ó‡®≤‡®§‡©Ä'})`;
					}
					} catch (error) {
					messageDiv.textContent = `‡®ó‡©ú‡®¨‡©ú (${error.message})`;
					console.error('Error:', error);
				}
			}
			
			function allowGurmukhi(event) {
				const gurmukhiRegex = /^[\u0A00-\u0A7F]+$/;
				if (!gurmukhiRegex.test(event.key) && event.key !== 'Backspace') {
					event.preventDefault();
				}
			}
			
			function toggleClearButton(input) {
				const clearBtn = input.nextElementSibling;
				clearBtn.style.display = input.value ? 'block' : 'none';
				if (input.value) {
					document.getElementById('output').textContent = ''; // Clear the output
					document.getElementById('message').textContent = ''; // Clear the message
				}
			}
			
			function clearInput(input) {
				input.value = ''; // Clear the input
				toggleClearButton(input); // Hide the clear button
				document.getElementById('output').textContent = ''; // Clear the output
				document.getElementById('message').textContent = ''; // Clear the message
				input.focus();
				disableInput(false)
				deactivateAnimation()
			}
			
			function fetchRecordCount() {
				let counter = Math.floor(Math.random() * (1100 - 900 + 1)) + 900;
				const resultDiv = document.getElementById('result');
				
				// Start blinking effect before fetching
				resultDiv.classList.add("blink");
				resultDiv.textContent = "wait"; // Show "wait" message during fetch
				
				const dummyCounter = setInterval(() => {
					let randomIncrement;
					if (counter >= 10000) {
						// Generate a random number between 10 and 15
						randomIncrement = Math.floor(Math.random() * (15 - 10 + 1)) + 10;
						} else {
						// Generate a random number between 85 and 115
						randomIncrement = Math.floor(Math.random() * (115 - 85 + 1)) + 85;
					}
					counter += randomIncrement;
					resultDiv.textContent = counter; // Update with dummy count
				}, 100); // Increment every 100ms
				
				// Replace with your script URL
				const url = 'https://script.google.com/macros/s/AKfycbwnpi-hedcyyroMJ6MoD0WId37gYKM0NSx1N1mWqUwwkbpq-iSDyccEerS_EertREw/exec?action=getRecordCount';
				
				fetch(url)
				.then(response => response.json())
				.then(data => {
					clearInterval(dummyCounter); // Stop the dummy counter
					
					// Remove blinking effect once the actual result is fetched
					resultDiv.classList.remove("blink");
					
					if (data.status === "success") {
						resultDiv.innerHTML = data.count;
						} else {
						resultDiv.innerHTML = "Error: " + data.error;
					}
				})
				.catch(error => {
					clearInterval(dummyCounter); // Stop the dummy counter in case of error
					
					// Remove blinking effect on error
					resultDiv.classList.remove("blink");
					
					resultDiv.innerHTML = "‡®ó‡©ú‡®¨‡©ú";
					console.error("Error fetching data:", error);
				});
			}
			
			
			window.onload = function() {
				fetchRecordCount();
			}
			
			
		</script>
		
	</head>
	
	<body>
		
		<!-- About Button -->
		<button id="aboutButton" class="button">About</button>
		<!-- Popup Overlay -->
		<div id="aboutpopupOverlay">
			<div class="popup-container">
				<strong class="popup-heading">‡®∏‡®ø‡©∞‡®ò-‡®ï‡©å‡®∞ ‡®¨‡®æ‡®∞‡©á</strong>
				<ul class="instructions-list">
					<li>‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®ï‡©ã‡®∂‡®ï‡®æ‡®∞‡©Ä ‡®¶‡©á ‡®á‡©±‡®ï ‡®µ‡©±‡®°‡©á ‡®™‡©ç‡®∞‡©ã‡®ú‡©à‡®ï‡®ü ‡®¶‡©á ‡®π‡®ø‡©±‡®∏‡©á ‡®µ‡®ú‡©ã‡®Ç, ‡®á‡®π ‡®µ‡©à‡©±‡®¨-‡®ê‡®™ ‡®Ö‡®ú‡®ø‡®π‡©á ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®®‡®æ‡®Æ ‡®á‡®ï‡©±‡®†‡©á ‡®ï‡®∞‡®® ‡®≤‡®à ‡®¨‡®£‡®æ‡®à ‡®ó‡®à ‡®π‡©à, ‡®ú‡®ø‡®®‡©ç‡®π‡®æ‡®Ç ‡®¶‡©á ‡®™‡®ø‡©±‡®õ‡©á ‡®∏‡®ø‡©∞‡®ò ‡®ú‡®æ‡®Ç ‡®ï‡©å‡®∞ ‡®≤‡©±‡®ó ‡®∏‡®ï‡®¶‡®æ ‡®π‡©à‡•§ ‡®ê‡®™ ‡®∞‡®æ‡®π‡©Ä‡®Ç ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®ï‡©ã‡®à ‡®µ‡©Ä ‡®®‡®æ‡®Æ ‡®ö‡©à‡©±‡®ï ‡®ï‡®∞ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã, ‡®ú‡©á ‡®®‡®π‡©Ä‡®Ç ‡®Æ‡®ø‡®≤‡®ø‡®Ü ‡®§‡®æ‡®Ç ‡®¶‡®∞‡®ú ‡®ï‡®∞ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã‡•§</li>
				</ul>
				<button id="aboutclosePopup"></button>
			</div>
		</div>
		
		<!-- Help Button -->
		<button id="helpButton" class="button">Help</button>
		<!-- Popup Overlay -->
		<div id="helppopupOverlay">
			<div class="popup-container">
				<strong class="popup-heading">‡®®‡®æ‡®Æ ‡®≤‡®ø‡®ñ‡®£ ‡®¨‡®æ‡®∞‡©á</strong>
				<ul class="instructions-list2">
					<li>‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä ‡®Ö‡©±‡®ñ‡®∞ ‡®§‡©á ‡®≤‡®ó‡®æ‡®Ç-‡®Æ‡®æ‡®§‡®∞‡®æ‡®µ‡®æ‡®Ç ‡®§‡©ã‡®Ç ‡®¨‡®ø‡®®‡®æ‡®Ç ‡®π‡©ã‡®∞ ‡®≠‡®æ‡®∂‡®æ‡®µ‡®æ‡®Ç, ‡®ö‡®ø‡©∞‡®®‡©ç‡®π ‡®ú‡®æ‡®Ç ‡®ñ‡®æ‡®≤‡©Ä ‡®•‡®æ‡®Ç ‡®ü‡®æ‡®à‡®™ ‡®®‡®π‡©Ä‡®Ç ‡®π‡©ã‡®µ‡©á‡®ó‡©Ä</li>
					<li>‡®®‡®æ‡®Æ ‡®¶‡®æ ‡®Æ‡©Å‡®¢‡®≤‡®æ ‡®π‡®ø‡©±‡®∏‡®æ (‡®∏‡®ø‡©∞‡®ò/‡®ï‡©å‡®∞ ‡®§‡©ã‡®Ç ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç ‡®µ‡®æ‡®≤‡®æ) ‡®≤‡®ø‡®ñ‡©ã, ‡®ú‡©á ‡®µ‡®ø‡©±‡®ö ‡®ñ‡®æ‡®≤‡©Ä ‡®•‡®æ‡®Ç ‡®π‡©à ‡®§‡®æ‡®Ç ‡®∂‡®¨‡®¶ ‡®á‡®ï‡©±‡®†‡©á ‡®ï‡®∞ ‡®¶‡©á‡®µ‡©ã ‡®ú‡®ø‡®µ‡©á‡®Ç ‡®ï‡®ø '‡®ü‡®π‡®ø‡®≤ ‡®¶‡©Ä‡®™' ‡®®‡©Ç‡©∞ '‡®ü‡®π‡®ø‡®≤‡®¶‡©Ä‡®™'</li>
					<li>‡®∏‡®π‡©Ä ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®´‡©å‡®Ç‡®ü ‡®§‡©á ‡®ü‡®æ‡®à‡®™‡®ø‡©∞‡®ó ‡®¶‡©Ä ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä ‡®≤‡®à ‡®∂‡®¨‡®¶‡®∂‡®æ‡®≤‡®æ ‡®¶‡®æ ‡®â‡®™-‡®ö‡©à‡®®‡®≤ "<strong>Punjabi Typing/Fonts</strong>" ‡®¶‡©á‡®ñ‡©ã</li>
				</ul>
				<button id="helpclosePopup"></button>
			</div>
		</div>
		
		<div class="center-container">
			<h1 style="margin-top: -5px;margin-bottom: 5px;white-space: nowrap;">
				<span class="flip-horizontal">üö©</span> ‡®∏‡®ø‡©∞‡®ò-‡®ï‡©å‡®∞ üö©
			</h1>
		</div>
		
		<div class="search-container";>
		<div class="input-wrapper">
		<input type="text" 
		onkeypress="allowGurmukhi(event)" 
		oninput="toggleClearButton(this); deactivateAnimation();" 
		onkeydown="if(event.key === 'Enter') searchName()" 
		placeholder="‡®®‡®æ‡®Æ ‡®≤‡®ø‡®ñ‡©ã">
		<button class="clear-btn" onclick="clearInput(this.previousElementSibling)">&times;</button>
		</div>
		<button class="search-btn" onclick="searchName() ; deactivateAnimation()">Check</button>
		</div>
		
		<div class="loading" id="loading"></div>
		
		<div id="output" class="output-text"></div>
		<div id="message" class="message"></div>
		
	    <div id="addDialog">
		<p>‡®á‡®π ‡®®‡®æ‡®Æ ‡®Æ‡©å‡®ú‡©Ç‡®¶ ‡®®‡®π‡©Ä‡®Ç, ‡®ï‡©Ä ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®∂‡®æ‡®Æ‡®≤ ‡®ï‡®∞‡®®‡®æ ‡®ö‡®æ‡®π‡©Å‡©∞‡®¶‡©á ‡®π‡©ã?</p>
		<button class="add-btn">Yes</button>
		<button class="cancel-btn">No</button>
		</div>
		<div id="overlay"></div>
		
		<div id="baby-animation" class="animation hidden">
		üë∂üçºüëº
		</div>
		
		<div class="count-container">
		<br><h2>‡®ï‡©Å‡©±‡®≤ ‡®®‡®æ‡®Ç - </h2>
		<div id="result" class="blink">wait</div>
		</div>
		
		<div class="linecontainer">
		<div class="line"></div>
		</div>
		<a href="aboutShabad.html">‡®∂‡®¨‡®¶‡®∂‡®æ‡®≤‡®æ</a>
		
		<div style="display: flex; align-items: center; justify-content: center;">
		<h3 style="margin-right: 10px;">Visitor </h3>
		<!-- hitwebcounter Code START -->
		<a href="https://www.hitwebcounter.com" target="_blank">
		<img src="https://hitwebcounter.com/counter/counter.php?page=18035707&style=0006&nbdigits=5&type=page&initCount=0" title="Counter Widget" alt="Visit counter For Websites" border="" />
		</a>
		<!-- hitwebcounter Code END -->
		</div>
		
		<script>
		// Get references to the button and popup elements for the Help popup
		const helpButton = document.getElementById('helpButton');
		const helppopupOverlay = document.getElementById('helppopupOverlay');
		const closePopupButton = document.getElementById('helpclosePopup');
		const helppopupContent = helppopupOverlay.querySelector('.popup-content'); // Add content selector
		
		// Show the popup when the help button is clicked
		helpButton.addEventListener('click', function () {
		helppopupOverlay.style.display = 'block';
		history.pushState({ popup: 'help' }, '', '#help-popup'); // Add history state
		});
		
		// Close the popup when the close button is clicked
		closePopupButton.addEventListener('click', function () {
		helppopupOverlay.style.display = 'none';
		history.back(); // Go back to the previous history state
		});
		
		// Close the popup when the Esc key is pressed
		document.addEventListener('keydown', function (event) {
		if (event.key === 'Escape') { // Check if the Esc key was pressed
		helppopupOverlay.style.display = 'none';
		history.back(); // Go back to the previous history state
		}
		});
		
		// Close the popup when clicking outside the popup content
		helppopupOverlay.addEventListener('click', function (event) {
		if (event.target === helppopupOverlay) { // Ensure click is outside the content
		helppopupOverlay.style.display = 'none';
		history.back();
		}
		});
		
		// Get references to the button and popup elements for the About popup
		const aboutButton = document.getElementById('aboutButton');
		const aboutpopupOverlay = document.getElementById('aboutpopupOverlay');
		const aboutclosePopupButton = document.getElementById('aboutclosePopup');
		const aboutpopupContent = aboutpopupOverlay.querySelector('.popup-content'); // Add content selector
		
		// Show the popup when the about button is clicked
		aboutButton.addEventListener('click', function () {
		aboutpopupOverlay.style.display = 'block';
		history.pushState({ popup: 'about' }, '', '#about-popup'); // Add history state
		});
		
		// Close the popup when the close button is clicked
		aboutclosePopupButton.addEventListener('click', function () {
		aboutpopupOverlay.style.display = 'none';
		history.back(); // Go back to the previous history state
		});
		
		// Close the popup when clicking outside the popup content
		aboutpopupOverlay.addEventListener('click', function (event) {
		if (event.target === aboutpopupOverlay) { // Ensure click is outside the content
		aboutpopupOverlay.style.display = 'none';
		history.back();
		}
		});
		
		// Handle the Back button (popstate event)
		window.addEventListener('popstate', function (event) {
		// Close the corresponding popup based on the state
		if (event.state && event.state.popup === 'help') {
		helppopupOverlay.style.display = 'none';
		} else if (event.state && event.state.popup === 'about') {
		aboutpopupOverlay.style.display = 'none';
		} else {
		// Ensure all popups are closed
		helppopupOverlay.style.display = 'none';
		aboutpopupOverlay.style.display = 'none';
		}
		});
		</script>
		
		</body>
		</html>						
